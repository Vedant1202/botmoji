(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r={SET_CURRENT_MESSAGES:"SET_CURRENT_MESSAGES"}},45:function(t,e,a){t.exports=a(86)},54:function(t,e,a){},55:function(t,e,a){},56:function(t,e,a){},58:function(t,e,a){},76:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){},79:function(t,e,a){},80:function(t,e,a){},81:function(t,e,a){},86:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),s=a(20),p=a.n(s),l=a(28),i=a(10),o=(a(54),a(17)),m=a(8),c=a(9),u=a(12),_=a(11),d=a(2),f=(a(55),a(56),function(){return n.a.createElement("div",{id:"main"},n.a.createElement("div",{className:"fof"},n.a.createElement("h1",null,"Error 404: Page not found...")))}),g=a(16),k=a.n(g),x=a(22),h={utter_smalltalk_user_going_to_bed:{prefix:"https://sdk.bitmoji.com/render/panel/20034137-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_acquaintance:{prefix:"https://sdk.bitmoji.com/render/panel/10217644-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_age:{prefix:"https://sdk.bitmoji.com/render/panel/7860262-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_annoying:{prefix:"https://sdk.bitmoji.com/render/panel/20034156-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_answer_my_question:{prefix:"https://sdk.bitmoji.com/render/panel/20037117-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_bad:{prefix:"https://sdk.bitmoji.com/render/panel/10217638-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_be_clever:{prefix:"https://sdk.bitmoji.com/render/panel/9073886-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_beautiful:{prefix:"https://sdk.bitmoji.com/render/panel/20005761-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_birth_date:{prefix:"https://sdk.bitmoji.com/render/panel/8363891-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_boring:{prefix:"https://sdk.bitmoji.com/render/panel/20046256-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_boss:{prefix:"https://sdk.bitmoji.com/render/panel/20026753-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_busy:{prefix:"https://sdk.bitmoji.com/render/panel/20024180-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_chatbot:{prefix:"https://sdk.bitmoji.com/render/panel/10189571-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_clever:{prefix:"https://sdk.bitmoji.com/render/panel/10224104-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_crazy:{prefix:"https://sdk.bitmoji.com/render/panel/20029222-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_fired:{prefix:"https://sdk.bitmoji.com/render/panel/10211763-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_funny:{prefix:"https://sdk.bitmoji.com/render/panel/20051717-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_good:{prefix:"https://sdk.bitmoji.com/render/panel/20009210-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_happy:{prefix:"https://sdk.bitmoji.com/render/panel/10229970-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_hungry:{prefix:"https://sdk.bitmoji.com/render/panel/10231150-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_marry_user:{prefix:"https://sdk.bitmoji.com/render/panel/10219620-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_my_friend:{prefix:"https://sdk.bitmoji.com/render/panel/9157833-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_occupation:{prefix:"https://sdk.bitmoji.com/render/panel/20005318-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_origin:{prefix:"https://sdk.bitmoji.com/render/panel/20042930-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_ready:{prefix:"https://sdk.bitmoji.com/render/panel/7974009-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_real:{prefix:"https://sdk.bitmoji.com/render/panel/8398487-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_residence:{prefix:"https://sdk.bitmoji.com/render/panel/8968038-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_right:{prefix:"https://sdk.bitmoji.com/render/panel/20012015-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_confirmation_yes:{prefix:"https://sdk.bitmoji.com/render/panel/9281517-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_sure:{prefix:"https://sdk.bitmoji.com/render/panel/20016658-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_talk_to_me:{prefix:"https://sdk.bitmoji.com/render/panel/8968004-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_agent_there:{prefix:"https://sdk.bitmoji.com/render/panel/10222419-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_appraisal_bad:{prefix:"https://sdk.bitmoji.com/render/panel/20022124-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_appraisal_good:{prefix:"https://sdk.bitmoji.com/render/panel/20028710-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_appraisal_no_problem:{prefix:"https://sdk.bitmoji.com/render/panel/10232004-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_appraisal_thank_you:{prefix:"https://sdk.bitmoji.com/render/panel/9941638-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_appraisal_well_done:{prefix:"https://sdk.bitmoji.com/render/panel/8809958-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_confirmation_cancel:{prefix:"https://sdk.bitmoji.com/render/panel/20014710-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_confirmation_no:{prefix:"https://sdk.bitmoji.com/render/panel/9281500-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_dialog_hold_on:{prefix:"https://sdk.bitmoji.com/render/panel/10230787-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_dialog_hug:{prefix:"https://sdk.bitmoji.com/render/panel/10224754-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_dialog_i_do_not_care:{prefix:"https://sdk.bitmoji.com/render/panel/20052371-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_dialog_sorry:{prefix:"https://sdk.bitmoji.com/render/panel/20003568-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_dialog_what_do_you_mean:{prefix:"https://sdk.bitmoji.com/render/panel/10176517-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_dialog_wrong:{prefix:"https://sdk.bitmoji.com/render/panel/9950092-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_emotions_ha_ha:{prefix:"https://sdk.bitmoji.com/render/panel/20051717-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_emotions_wow:{prefix:"https://sdk.bitmoji.com/render/panel/20006618-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_bye:{prefix:"https://sdk.bitmoji.com/render/panel/9947051-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_goodevening:{prefix:"https://sdk.bitmoji.com/render/panel/10192304-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_goodmorning:{prefix:"https://sdk.bitmoji.com/render/panel/20048063-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_goodnight:{prefix:"https://sdk.bitmoji.com/render/panel/20050200-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_hello:{prefix:"https://sdk.bitmoji.com/render/panel/10215118-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_how_are_you:{prefix:"https://sdk.bitmoji.com/render/panel/20034140-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_appraisal_welcome:{prefix:"https://sdk.bitmoji.com/render/panel/20009938-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_nice_to_meet_you:{prefix:"https://sdk.bitmoji.com/render/panel/20013376-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_nice_to_see_you:{prefix:"https://sdk.bitmoji.com/render/panel/20013376-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_nice_to_talk_to_you:{prefix:"https://sdk.bitmoji.com/render/panel/20013376-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_greetings_whatsup:{prefix:"https://sdk.bitmoji.com/render/panel/10218973-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_angry:{prefix:"https://sdk.bitmoji.com/render/panel/10224487-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_back:{prefix:"https://sdk.bitmoji.com/render/panel/10217028-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_bored:{prefix:"https://sdk.bitmoji.com/render/panel/20046256-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_busy:{prefix:"https://sdk.bitmoji.com/render/panel/20024180-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_can_not_sleep:{prefix:"https://sdk.bitmoji.com/render/panel/20034170-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_does_not_want_to_talk:{prefix:"https://sdk.bitmoji.com/render/panel/20008983-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_excited:{prefix:"https://sdk.bitmoji.com/render/panel/20036961-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_good:{prefix:"https://sdk.bitmoji.com/render/panel/10212044-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_happy:{prefix:"https://sdk.bitmoji.com/render/panel/10215435-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_has_birthday:{prefix:"https://sdk.bitmoji.com/render/panel/10134294-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_joking:{prefix:"https://sdk.bitmoji.com/render/panel/10022003-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_likes_agent:{prefix:"https://sdk.bitmoji.com/render/panel/10229572-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_lonely:{prefix:"https://sdk.bitmoji.com/render/panel/8149220-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_looks_like:{prefix:"https://sdk.bitmoji.com/render/panel/10222099-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_loves_agent:{prefix:"https://sdk.bitmoji.com/render/panel/20036995-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_misses_agent:{prefix:"https://sdk.bitmoji.com/render/panel/9998023-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_needs_advice:{prefix:"https://sdk.bitmoji.com/render/panel/20039916-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_sad:{prefix:"https://sdk.bitmoji.com/render/panel/10216995-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_sleepy:{prefix:"https://sdk.bitmoji.com/render/panel/9725229-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_testing_agent:{prefix:"https://sdk.bitmoji.com/render/panel/10222419-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_tired:{prefix:"https://sdk.bitmoji.com/render/panel/20042974-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_waits:{prefix:"https://sdk.bitmoji.com/render/panel/20037037-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_wants_to_see_agent_again:{prefix:"https://sdk.bitmoji.com/render/panel/10205884-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_wants_to_talk:{prefix:"https://sdk.bitmoji.com/render/panel/20006992-",postfix:"-v1.png?transparent=1&palette=1"},utter_smalltalk_user_will_be_back:{prefix:"https://sdk.bitmoji.com/render/panel/20040146-",postfix:"-v1.png?transparent=1&palette=1"}},b=(a(58),function(t){var e=t.currentUser,a=t.expression,r=e.bitmoji.avatar;if(a&&"default"!==a&&h[a].prefix){var s=e.bitmoji.avatar.split("-")[e.bitmoji.avatar.split("-").length-2];r=h[a].prefix+s+h[a].postfix}return n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{className:"moji",src:r,alt:"Avatar"}),n.a.createElement("div",{className:"name"},"Hi, ",e.displayName.split(" ")[0]))}),v=a(23),j=a.n(v),y=(a(76),a(14)),E=(0,a(14).createSelector)([function(t){return t.messages}],(function(t){return t.currentMessages})),O="http://35.192.205.244:5005",S=function(t){Object(u.a)(a,t);var e=Object(_.a)(a);function a(t){var r;return Object(m.a)(this,a),(r=e.call(this,t)).state={expression:"default"},r}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){var t=Object(x.a)(k.a.mark((function t(){var e,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.currentUser.externalId,t.next=3,j.a.post("".concat(O,"/conversations/").concat(e.replaceAll("/",""),"/predict"));case 3:a=t.sent,console.log(a.data.scores[0].action),this.setState({expression:a.data.scores[0].action});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.expression;return n.a.createElement("div",{className:"moji-container"},n.a.createElement("div",{className:"moji-div"},n.a.createElement(b,{expression:t,currentUser:this.props.currentUser})))}}]),a}(n.a.Component),w=Object(y.createStructuredSelector)({currentMessages:E}),U=Object(i.b)(w)(S),M=(a(77),function(t){var e=t.mine,a=t.text;return n.a.createElement("div",{className:"chat-item ".concat(e?"right-text":"left-text")},a)}),C=(a(78),function(t){Object(u.a)(a,t);var e=Object(_.a)(a);function a(){var t;Object(m.a)(this,a);for(var r=arguments.length,s=new Array(r),p=0;p<r;p++)s[p]=arguments[p];return(t=e.call.apply(e,[this].concat(s))).messagesEnd=n.a.createRef(),t.scrollToBottom=function(){t.messagesEnd.scrollIntoView({behavior:"smooth"})},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var t,e=this,a=this.props.currentUser;t=this.props.currentMessages.messages?this.props.currentMessages.messages:this.props.currentMessages;n.a.createRef();return n.a.createElement("div",{className:"chat-container"},n.a.createElement(M,{text:"Hi, how are you"}),t.length>0?t.map((function(t,e){if(t.userId===a.externalId.replaceAll("/",""))return t.mine?n.a.createElement(M,{key:e,text:t.message,mine:!0}):n.a.createElement(M,{key:e,text:t.message})})):null,n.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}}))}}]),a}(n.a.Component)),N=Object(y.createStructuredSelector)({currentMessages:E}),I=Object(i.b)(N)(C),A=(a(79),a(32)),T=a(19),R=(a(80),a(24)),B=function(t){Object(u.a)(a,t);var e=Object(_.a)(a);function a(t){var r;return Object(m.a)(this,a),(r=e.call(this,t)).state={message:null},r.onChange=r.onChange.bind(Object(T.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(T.a)(r)),r}return Object(c.a)(a,[{key:"onChange",value:function(t){this.setState({message:t.target.value})}},{key:"handleSubmit",value:function(){var t=Object(x.a)(k.a.mark((function t(e){var a,r,n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==e.key){t.next=13;break}return e.preventDefault(),e.stopPropagation(),a={sender:this.props.currentUser.externalId.replaceAll("/",""),message:this.state.message},(r=this.props.currentMessages.messages?this.props.currentMessages.messages:this.props.currentMessages).push({userId:this.props.currentUser.externalId.replaceAll("/",""),message:this.state.message,mine:!0}),this.props.setCurrentMessages({messages:Object(A.a)(r)}),t.next=9,j.a.post("".concat(O,"/webhooks/rest/webhook"),a);case 9:(n=t.sent).data.length>0?r.push({userId:this.props.currentUser.externalId.replaceAll("/",""),message:n.data[0].text,mine:!1}):r.push({userId:this.props.currentUser.externalId.replaceAll("/",""),message:"I'm sorry I did'nt get that",mine:!1}),this.props.setCurrentMessages({messages:Object(A.a)(r)}),this.setState({message:""});case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("input",{type:"text",placeholder:"Type your message and hit Enter",className:"message-input",onChange:this.onChange,onKeyDown:this.handleSubmit,value:this.state.message})}}]),a}(n.a.Component),D=Object(y.createStructuredSelector)({currentMessages:E}),G=Object(i.b)(D,(function(t){return{setCurrentMessages:function(e){t(function(t){return{type:R.a.SET_CURRENT_MESSAGES,payload:t}}(e))}}}))(B),J=function(t){Object(u.a)(a,t);var e=Object(_.a)(a);function a(t){var r;return Object(m.a)(this,a),(r=e.call(this,t)).state={status:null},r}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props.currentUser;return n.a.createElement("div",{className:"input-container"},n.a.createElement(G,{currentUser:t}))}}]),a}(n.a.Component),W=(a(81),function(t){var e=t.currentUser;return n.a.createElement("div",{className:"app-page"},n.a.createElement(U,{currentUser:e}),n.a.createElement(I,{currentUser:e}),n.a.createElement(J,{currentUser:e}))}),q=function(t){Object(u.a)(a,t);var e=Object(_.a)(a);function a(t){var r;return Object(m.a)(this,a),(r=e.call(this,t)).state={currentUser:null},r}return Object(c.a)(a,[{key:"componentWillMount",value:function(){localStorage.getItem("snap-user")&&this.setState(Object(o.a)(Object(o.a)({},this.state),{},{currentUser:JSON.parse(localStorage.getItem("snap-user"))}))}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"App"},n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:"/",render:function(){return t.state.currentUser?n.a.createElement(W,{currentUser:t.state.currentUser}):n.a.createElement(d.a,{to:"/login"})}}),n.a.createElement(d.b,{exact:!0,path:"/login",render:function(){return t.state.currentUser?n.a.createElement(d.a,{to:"/"}):n.a.createElement(n.a.Fragment,null)}}),n.a.createElement(d.b,{path:"*",component:f})))}}]),a}(n.a.Component),F=Object(y.createStructuredSelector)({currentMessages:E}),H=Object(i.b)(F)(q),P=a(43),z=a(25),K=(a(83).default,a(13)),V=K.createStore,$=K.applyMiddleware;var L=V(a(87).default,$.apply(void 0,[])),Q=Object(z.b)(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));p.a.render(n.a.createElement(i.a,{store:L},n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,null,n.a.createElement(P.a,{persistor:Q},n.a.createElement(H,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},87:function(t,e,a){"use strict";a.r(e);var r=a(13),n=a(17),s=a(24),p={currentMessages:[]},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0,a=e.type,r=e.payload;switch(a){case s.a.SET_CURRENT_MESSAGES:return Object(n.a)(Object(n.a)({},t),{},{currentMessages:r});default:return t}},i=a(44),o=a.n(i),m=a(25),c=Object(r.combineReducers)({messages:l}),u={key:"snapkit-dev",storage:o.a};e.default=Object(m.a)(u,c)}},[[45,1,2]]]);
//# sourceMappingURL=main.f290a1bd.chunk.js.map